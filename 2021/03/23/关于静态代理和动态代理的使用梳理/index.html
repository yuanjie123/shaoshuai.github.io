
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="简单的个人博客">
    <title>关于静态代理和动态代理的使用梳理 - 简单的个人博客</title>
    <meta name="author" content="Tom Yuan">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Tom Yuan","sameAs":["https://github.com/yuanjie123","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"],"image":"/picture.jpg"},"articleBody":"12在上一篇文章中对现有对象动态添加属性使用到了动态代理。  在本篇文章中对静态代理和动态代理进行了详细梳理和相关代码展示\n\n\n一、 代理模式java的静态代理和动态代理的实现都是基于代理模式的设计方式进行实现的，通过代理的方式去实现对目标对象的访问。代理模式： 通过实现一个代理对象，通过访问代理对象实现对目标对象的访问，可以通过代理对象完成对目标对象功能的扩展。代理模式的优点：  \n\n代理模式在客户端和目标对象之间起到了一个中介的作用，保护了目标对象的访问\n通过代理能实现对目标对象功能的拓展\n分离客户端和目标对象，在一定程度上降低了系统的耦合度，增强了扩展性  \n\n代理模式的缺点：\n\n系统复杂度更高了\n需要添加额外的代理类，增加了系统的设计复杂度\n在客户端和目标对象之间增加一个代理对象，会造成请求处理速度变慢\n\n代理模式结构图:\n二、 静态代理需实现完整的代理对象代码编写，在项目运行前就需已生成了对应的代理类的class文件。需代理对象和目标对象通过实现同一个接口\n具体实现：123456789101112131415161718192021222324252627282930313233343536373839&#x2F;** * 由于某些原因需要给某对象提供一个代理以控制对该对象的访问。 * 这时，访问对象不适合或者不能直接引用目标对象，代理对象作为访问对象和目标对象之间的中介。 *&#x2F;public class ProxyPattern &#123;    public static void main(String[] args)&#123;        Subject subject &#x3D; new Proxy();        subject.Request();    &#125;    &#x2F;&#x2F;抽象主题    interface Subject&#123;        void Request();    &#125;    &#x2F;&#x2F;真实主题    static class RealSubject implements Subject&#123;        public void Request()&#123;            System.out.println(&quot;真实主题&quot;);        &#125;    &#125;    &#x2F;&#x2F;静态代理类，代理与真实主题相对应    static class Proxy implements Subject&#123;        private RealSubject realSubject;        public void Request() &#123;            if (realSubject &#x3D;&#x3D; null) &#123;                realSubject &#x3D; new RealSubject();            &#125;            preRequest();            realSubject.Request();            postRequest();        &#125;        &#x2F;&#x2F;进行代理的附加处理操作        public void preRequest() &#123;            System.out.println(&quot;访问真实主题之前的预处理。&quot;);        &#125;        public void postRequest() &#123;            System.out.println(&quot;访问真实主题之后的后续处理。&quot;);        &#125;    &#125;&#125;\n三、 动态代理动态代理是在项目运行时动态生成的，在项目编译完成后不会生成对应的class文件，会在项目运行时动态生成类字节码，并加载到JVM中。  \n实现动态代理的场景中，使用JDK完成动态代理，只需要目标对象实现接口，代理对象不需要实现。\n在JAVA中的AOP的拦截功能（切片）就是由动态代理的方式实现的，其中使用到了目前最常见的两种动态代理方式实现拦截切入功能：JDK动态代理和CGLIB动态代理。\njdk动态代理是由java内部的反射机制来实现的，cglib动态代理底层则是借助asm来实现的。\n1. JDK动态代理要使用JAVA中JDK的动态代理方式，需要java.long.reflect.InvocationHandler接口和java.long.reflect.Proxy类的支持12345678910111213java.lang.reflect.InvocationHandler接口的定义如下：1.  &#x2F;&#x2F;Object proxy:被代理的对象  2.  &#x2F;&#x2F;Method method:要调用的方法  3.  &#x2F;&#x2F;Object[] args:方法调用时所需要参数  4.  public interface InvocationHandler &#123;  5.  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable;  6.  &#125;  java.lang.reflect.Proxy类的定义如下：1.  &#x2F;&#x2F;CLassLoader loader:类的加载器  2.  &#x2F;&#x2F;Class&lt;?&gt; interfaces:得到全部的接口  3.  &#x2F;&#x2F;InvocationHandler h:得到InvocationHandler接口的子类的实例  4.  public static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) throws IllegalArgumentException我们使用时，通过newProxyInstance生成一个动态代理类对象，使用invoke完成对接口中方法的调用。对于代理类的属性，可见JAVA的API文档，本处对于关键特性进行了摘要：  \n\n代理类是公共的、最终的，而不是抽象的。\n未指定代理类的非限定名称。但是，以字符串 “$Proxy” 开头的类名空间应该为代理类保留。\n代理类会按同一顺序准确地实现其创建时指定的接口。\n\n代码实现：123456789101112131415161718192021222324252627282930313233343536373839404142434445public class JavaProxyTest &#123;    public static void main(String[] arg) &#123;        RealSubject realSubject &#x3D; new RealSubject();        Subject proxySubject &#x3D; (Subject) Proxy.newProxyInstance(realSubject.getClass().getClassLoader(),realSubject.getClass().getInterfaces(),new ProxyHandler(realSubject));        proxySubject.Request();        proxySubject.Response();    &#125;    &#x2F;&#x2F;抽象主题    interface Subject&#123;        void Request();        void Response();    &#125;    &#x2F;&#x2F;真实主题    static class RealSubject implements Subject&#123;        public void Request()&#123;            System.out.println(&quot;真实主题&quot;);        &#125;        public void Response()&#123;            System.out.println(&quot;回应真实主题&quot;);        &#125;    &#125;    &#x2F;&#x2F;代理处理方法    public static class ProxyHandler implements InvocationHandler&#123;        private Object subject;        public ProxyHandler(Object subject)&#123;            this.subject &#x3D; subject;        &#125;        &#x2F;&#x2F;对代理方法进行处理        @Override        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;            if(!&quot;Response&quot;.equals(method.getName()))&#123;                System.out.println(&quot;开始动态代理&quot;);                Object object &#x3D; method.invoke(subject,args);                System.out.println(&quot;结束动态代理&quot;);                return object;            &#125;else &#123;                Object object &#x3D; method.invoke(subject,args);                return object;            &#125;        &#125;    &#125;&#125;注解： 通过上述代码可以看到我们通过newProxyInstance方法获取一个动态代理对象，其中传入的classloader和接口为生成的代理对象的类加载器和需要代理的interface，通过指定的InvocationHandler对接口的方法进行代理处理。可以看到，我们可以通过LogHandler代理不同类型的对象，如果我们把对外的接口都通过动态代理来实现，那么所有的函数调用最终都会经过invoke函数的转发，因此我们就可以在这里做一些自己想做的操作，比如日志系统、事务、拦截器、权限控制等。这也就是AOP(面向切面编程)的基本原理。\n2. CGLIB动态代理CGLIB动态代理是通过使用CGLIB的第三方库实现的，是一个优秀的动态代理框架，底层使用了ASM在内存中动态的生成一个目标类的子类来完成对目标的功能扩展。使用CGLIB是基于类进行代理，即使目标类没有实现任何接口也能完成对目标对象的动态代理。像Spring框架中的大量使用了CGLIB来进行方法的拦截（interception）。\n要使用CGLIB，需现在项目中引入CGLIB的jar包：12345&lt;dependency&gt;    &lt;groupId&gt;cglib&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;cglib&lt;&#x2F;artifactId&gt;    &lt;version&gt;3.2.5&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;\nCGLIB中的常用类：\n\nEnhancer – 主要的增强类，增强器动态创建给定类型的子类，但会拦截所有方法调用。（需配置回调callback）\nBeanGenerator - 使用方法同Enhancer，但是这个生成类可以动态给类添加属性。通过addProperty方法，它添加进去的属性，可以直接反射调用（但是名称不是你设置的名称，会有一些变化），也可以通过BeanMap类使用。BeanGenerator 不能设置callback，也就意味着，这个类只是用来生成bean 并可以动态添加属性的，并不支持回调。\nMethodInterceptor - 主要的方法拦截类，它是Callback接口的子接口，需要用户实现\nMethodProxy – JDK的java.lang.reflect.Method类的代理类，可以方便的实现对源对象方法的调用。\n\nCGLIB代理实现：123456789101112131415161718192021222324252627282930313233343536&#x2F;** * 动态代理的调用 *&#x2F;public class JavaCGLibTest &#123;    public static void main(String[] arg)&#123;        Enhancer en &#x3D; new Enhancer();        en.setSuperclass(Real1.class);        en.setCallback(new Intercept());        Real1 real &#x3D; (Real1) en.create();        System.out.println(real.add(1,2));    &#125;&#125;&#x2F;** * 实际的方法实体 *&#x2F;class Real1&#123;    public int c &#x3D; 1;    public int add(int a,int b)&#123;        return a+b;    &#125;&#125;&#x2F;** * CGlib的拦截器，用来对实际的方法进行加工 *&#x2F;class Intercept implements MethodInterceptor &#123;    @Override    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123;        System.out.println(&quot;&#x3D;&#x3D;&#x3D;before&#x3D;&#x3D;&#x3D;&quot;);        Object re &#x3D; methodProxy.invokeSuper(o,objects);        System.out.println(&quot;&#x3D;&#x3D;&#x3D;after&#x3D;&#x3D;&#x3D;&quot;);        return re;    &#125;&#125;在调用目标对象的方法时，CGLIB会回调我们实现了MethodInterceptor接口的类，完成对方法得拦截处理，其中拦截器中需要实现一个intercept方法。对于该方法：\n\n参数：Object为由CGLib动态生成的代理类实例，Method为上文中实体类所调用的被代理的方法引用，Object[]为参数值列表，MethodProxy为生成的代理类对方法的代理引用。\n返回：从代理实例的方法调用返回的值。\nproxy.invokeSuper(obj,arg)：调用代理类实例上的proxy方法的父类方法（即实体类ConcreteClassNoInterface中对应的方法）\n\n","dateCreated":"2021-03-23T17:22:13+08:00","dateModified":"2021-03-24T16:55:00+08:00","datePublished":"2021-03-23T17:22:13+08:00","description":"12在上一篇文章中对现有对象动态添加属性使用到了动态代理。  在本篇文章中对静态代理和动态代理进行了详细梳理和相关代码展示","headline":"关于静态代理和动态代理的使用梳理","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"},"publisher":{"@type":"Organization","name":"Tom Yuan","sameAs":["https://github.com/yuanjie123","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"],"image":"/picture.jpg","logo":{"@type":"ImageObject","url":"/picture.jpg"}},"url":"https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"}</script>
    <meta name="description" content="12在上一篇文章中对现有对象动态添加属性使用到了动态代理。  在本篇文章中对静态代理和动态代理进行了详细梳理和相关代码展示">
<meta property="og:type" content="blog">
<meta property="og:title" content="关于静态代理和动态代理的使用梳理">
<meta property="og:url" content="https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/index.html">
<meta property="og:site_name" content="简单的个人博客">
<meta property="og:description" content="12在上一篇文章中对现有对象动态添加属性使用到了动态代理。  在本篇文章中对静态代理和动态代理进行了详细梳理和相关代码展示">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/关于静态代理和动态代理的使用梳/pasted-0.png">
<meta property="article:published_time" content="2021-03-23T09:22:13.000Z">
<meta property="article:modified_time" content="2021-03-24T08:55:00.453Z">
<meta property="article:author" content="Tom Yuan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/关于静态代理和动态代理的使用梳/pasted-0.png">
    
    
        
    
    
        <meta property="og:image" content="https://yuanjie123.github.io/shaoshuai.github.io/assets/images/picture.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/shaoshuai.github.io/assets/css/style-4sprhbnavsylxfae7mhfrbntugtpzwyhiudj4y8adrz9pdun5xqcjqcnfk9m.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/shaoshuai.github.io/"
            aria-label=""
        >
            简单的个人博客
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /shaoshuai.github.io/#about"
            >
        
        
            <img class="header-picture" src="/shaoshuai.github.io/assets/images/picture.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/shaoshuai.github.io/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/shaoshuai.github.io/assets/images/picture.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Tom Yuan</h4>
                
                    <h5 class="sidebar-profile-bio"><p>author.bio</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/yuanjie123"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/shaoshuai.github.io/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            关于静态代理和动态代理的使用梳理
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-03-23T17:22:13+08:00">
	
		    Mar 23, 2021
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在上一篇文章中对现有对象动态添加属性使用到了动态代理。  </span><br><span class="line">在本篇文章中对静态代理和动态代理进行了详细梳理和相关代码展示</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<!-- top -->
<h5 id="一、-代理模式"><a href="#一、-代理模式" class="headerlink" title="一、 代理模式"></a>一、 代理模式</h5><p>java的静态代理和动态代理的实现都是基于代理模式的设计方式进行实现的，通过代理的方式去实现对目标对象的访问。<br>代理模式： 通过实现一个代理对象，通过访问代理对象实现对目标对象的访问，可以通过代理对象完成对目标对象功能的扩展。<br>代理模式的优点：  </p>
<ul>
<li>代理模式在客户端和目标对象之间起到了一个中介的作用，保护了目标对象的访问</li>
<li>通过代理能实现对目标对象功能的拓展</li>
<li>分离客户端和目标对象，在一定程度上降低了系统的耦合度，增强了扩展性  </li>
</ul>
<p>代理模式的缺点：</p>
<ul>
<li>系统复杂度更高了</li>
<li>需要添加额外的代理类，增加了系统的设计复杂度</li>
<li>在客户端和目标对象之间增加一个代理对象，会造成请求处理速度变慢</li>
</ul>
<p>代理模式结构图:<br><img src="/shaoshuai.github.io/2021/03/23/关于静态代理和动态代理的使用梳/pasted-0.png" alt="简单的个人博客"></p>
<h5 id="二、-静态代理"><a href="#二、-静态代理" class="headerlink" title="二、 静态代理"></a>二、 静态代理</h5><p>需实现完整的代理对象代码编写，在项目运行前就需已生成了对应的代理类的class文件。<br>需代理对象和目标对象通过实现同一个接口</p>
<p>具体实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 由于某些原因需要给某对象提供一个代理以控制对该对象的访问。</span><br><span class="line"> * 这时，访问对象不适合或者不能直接引用目标对象，代理对象作为访问对象和目标对象之间的中介。</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class ProxyPattern &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        Subject subject &#x3D; new Proxy();</span><br><span class="line">        subject.Request();</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;抽象主题</span><br><span class="line">    interface Subject&#123;</span><br><span class="line">        void Request();</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;真实主题</span><br><span class="line">    static class RealSubject implements Subject&#123;</span><br><span class="line">        public void Request()&#123;</span><br><span class="line">            System.out.println(&quot;真实主题&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;静态代理类，代理与真实主题相对应</span><br><span class="line">    static class Proxy implements Subject&#123;</span><br><span class="line">        private RealSubject realSubject;</span><br><span class="line">        public void Request() &#123;</span><br><span class="line">            if (realSubject &#x3D;&#x3D; null) &#123;</span><br><span class="line">                realSubject &#x3D; new RealSubject();</span><br><span class="line">            &#125;</span><br><span class="line">            preRequest();</span><br><span class="line">            realSubject.Request();</span><br><span class="line">            postRequest();</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;进行代理的附加处理操作</span><br><span class="line">        public void preRequest() &#123;</span><br><span class="line">            System.out.println(&quot;访问真实主题之前的预处理。&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        public void postRequest() &#123;</span><br><span class="line">            System.out.println(&quot;访问真实主题之后的后续处理。&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="三、-动态代理"><a href="#三、-动态代理" class="headerlink" title="三、 动态代理"></a>三、 动态代理</h5><p>动态代理是在项目运行时动态生成的，在项目编译完成后不会生成对应的class文件，会在项目运行时动态生成类字节码，并加载到JVM中。  </p>
<p>实现动态代理的场景中，使用JDK完成动态代理，只需要目标对象实现接口，代理对象不需要实现。</p>
<p>在JAVA中的AOP的拦截功能（切片）就是由动态代理的方式实现的，其中使用到了目前最常见的两种动态代理方式实现拦截切入功能：JDK动态代理和CGLIB动态代理。</p>
<p>jdk动态代理是由java内部的反射机制来实现的，cglib动态代理底层则是借助asm来实现的。</p>
<h6 id="1-JDK动态代理"><a href="#1-JDK动态代理" class="headerlink" title="1. JDK动态代理"></a>1. JDK动态代理</h6><p>要使用JAVA中JDK的动态代理方式，需要java.long.reflect.InvocationHandler接口和java.long.reflect.Proxy类的支持<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">java.lang.reflect.InvocationHandler接口的定义如下：</span><br><span class="line">1.  &#x2F;&#x2F;Object proxy:被代理的对象  </span><br><span class="line">2.  &#x2F;&#x2F;Method method:要调用的方法  </span><br><span class="line">3.  &#x2F;&#x2F;Object[] args:方法调用时所需要参数  </span><br><span class="line">4.  public interface InvocationHandler &#123;  </span><br><span class="line">5.  public Object invoke(Object proxy, Method method, Object[] args) throws Throwable;  </span><br><span class="line">6.  &#125;  </span><br><span class="line"></span><br><span class="line">java.lang.reflect.Proxy类的定义如下：</span><br><span class="line">1.  &#x2F;&#x2F;CLassLoader loader:类的加载器  </span><br><span class="line">2.  &#x2F;&#x2F;Class&lt;?&gt; interfaces:得到全部的接口  </span><br><span class="line">3.  &#x2F;&#x2F;InvocationHandler h:得到InvocationHandler接口的子类的实例  </span><br><span class="line">4.  public static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) throws IllegalArgumentException</span><br></pre></td></tr></table></figure><br>我们使用时，通过newProxyInstance生成一个动态代理类对象，使用invoke完成对接口中方法的调用。<br>对于代理类的属性，可见JAVA的<a target="_blank" rel="noopener" href="http://itmyhome.com/java-api/">API文档</a>，本处对于关键特性进行了摘要：  </p>
<ul>
<li>代理类是公共的、最终的，而不是抽象的。</li>
<li>未指定代理类的非限定名称。但是，以字符串 “$Proxy” 开头的类名空间应该为代理类保留。</li>
<li>代理类会按同一顺序准确地实现其创建时指定的接口。</li>
</ul>
<p>代码实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">public class JavaProxyTest &#123;</span><br><span class="line">    public static void main(String[] arg) &#123;</span><br><span class="line">        RealSubject realSubject &#x3D; new RealSubject();</span><br><span class="line">        Subject proxySubject &#x3D; (Subject) Proxy.newProxyInstance(realSubject.getClass().getClassLoader(),realSubject.getClass().getInterfaces(),new ProxyHandler(realSubject));</span><br><span class="line">        proxySubject.Request();</span><br><span class="line">        proxySubject.Response();</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;抽象主题</span><br><span class="line">    interface Subject&#123;</span><br><span class="line">        void Request();</span><br><span class="line">        void Response();</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;真实主题</span><br><span class="line">    static class RealSubject implements Subject&#123;</span><br><span class="line">        public void Request()&#123;</span><br><span class="line">            System.out.println(&quot;真实主题&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        public void Response()&#123;</span><br><span class="line">            System.out.println(&quot;回应真实主题&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;代理处理方法</span><br><span class="line">    public static class ProxyHandler implements InvocationHandler&#123;</span><br><span class="line"></span><br><span class="line">        private Object subject;</span><br><span class="line"></span><br><span class="line">        public ProxyHandler(Object subject)&#123;</span><br><span class="line">            this.subject &#x3D; subject;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;对代理方法进行处理</span><br><span class="line">        @Override</span><br><span class="line">        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">            if(!&quot;Response&quot;.equals(method.getName()))&#123;</span><br><span class="line">                System.out.println(&quot;开始动态代理&quot;);</span><br><span class="line">                Object object &#x3D; method.invoke(subject,args);</span><br><span class="line">                System.out.println(&quot;结束动态代理&quot;);</span><br><span class="line">                return object;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                Object object &#x3D; method.invoke(subject,args);</span><br><span class="line">                return object;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>注解： 通过上述代码可以看到我们通过newProxyInstance方法获取一个动态代理对象，其中传入的classloader和接口为生成的代理对象的类加载器和需要代理的interface，通过指定的InvocationHandler对接口的方法进行代理处理。<br>可以看到，我们可以通过LogHandler代理不同类型的对象，如果我们把对外的接口都通过动态代理来实现，那么所有的函数调用最终都会经过invoke函数的转发，因此我们就可以在这里做一些自己想做的操作，比如日志系统、事务、拦截器、权限控制等。这也就是AOP(面向切面编程)的基本原理。</p>
<h6 id="2-CGLIB动态代理"><a href="#2-CGLIB动态代理" class="headerlink" title="2. CGLIB动态代理"></a>2. CGLIB动态代理</h6><p>CGLIB动态代理是通过使用CGLIB的第三方库实现的，是一个优秀的动态代理框架，底层使用了ASM在内存中动态的生成一个目标类的子类来完成对目标的功能扩展。使用CGLIB是基于类进行代理，<strong>即使目标类没有实现任何接口也能完成对目标对象的动态代理</strong>。像Spring框架中的大量使用了CGLIB来进行方法的拦截（interception）。</p>
<p>要使用CGLIB，需现在项目中引入CGLIB的jar包：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;cglib&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;cglib&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.2.5&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure></p>
<p>CGLIB中的常用类：</p>
<ul>
<li>Enhancer – 主要的增强类，增强器动态创建给定类型的子类，但会拦截所有方法调用。（需配置回调callback）</li>
<li>BeanGenerator - 使用方法同Enhancer，但是这个生成类可以动态给类添加属性。通过addProperty方法，它添加进去的属性，可以直接反射调用（但是名称不是你设置的名称，会有一些变化），也可以通过BeanMap类使用。BeanGenerator 不能设置callback，也就意味着，这个类只是用来生成bean 并可以动态添加属性的，并不支持回调。</li>
<li>MethodInterceptor - 主要的方法拦截类，它是Callback接口的子接口，需要用户实现</li>
<li>MethodProxy – JDK的java.lang.reflect.Method类的代理类，可以方便的实现对源对象方法的调用。</li>
</ul>
<p>CGLIB代理实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 动态代理的调用</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class JavaCGLibTest &#123;</span><br><span class="line">    public static void main(String[] arg)&#123;</span><br><span class="line">        Enhancer en &#x3D; new Enhancer();</span><br><span class="line">        en.setSuperclass(Real1.class);</span><br><span class="line">        en.setCallback(new Intercept());</span><br><span class="line">        Real1 real &#x3D; (Real1) en.create();</span><br><span class="line">        System.out.println(real.add(1,2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 实际的方法实体</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Real1&#123;</span><br><span class="line">    public int c &#x3D; 1;</span><br><span class="line">    public int add(int a,int b)&#123;</span><br><span class="line">        return a+b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * CGlib的拦截器，用来对实际的方法进行加工</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Intercept implements MethodInterceptor &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;&#x3D;&#x3D;&#x3D;before&#x3D;&#x3D;&#x3D;&quot;);</span><br><span class="line">        Object re &#x3D; methodProxy.invokeSuper(o,objects);</span><br><span class="line">        System.out.println(&quot;&#x3D;&#x3D;&#x3D;after&#x3D;&#x3D;&#x3D;&quot;);</span><br><span class="line">        return re;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>在调用目标对象的方法时，CGLIB会回调我们实现了MethodInterceptor接口的类，完成对方法得拦截处理，其中拦截器中需要实现一个intercept方法。对于该方法：</p>
<ul>
<li>参数：Object为由CGLib动态生成的代理类实例，Method为上文中实体类所调用的被代理的方法引用，Object[]为参数值列表，MethodProxy为生成的代理类对方法的代理引用。</li>
<li>返回：从代理实例的方法调用返回的值。</li>
<li>proxy.invokeSuper(obj,arg)：调用代理类实例上的proxy方法的父类方法（即实体类ConcreteClassNoInterface中对应的方法）</li>
</ul>

            


            <!-- 添加的部分 -->
            <!-- copyright -->
            
            <!-- copyright -->
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/shaoshuai.github.io/2021/04/12/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5/"
                    data-tooltip="基于virtualBox的centos系统配置光标"
                    aria-label="PREVIOUS: 基于virtualBox的centos系统配置光标"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/shaoshuai.github.io/2021/03/11/%E8%AE%B0Java%E7%B1%BB%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"
                    data-tooltip="记Java类动态添加属性字段的实现方式"
                    aria-label="NEXT: 记Java类动态添加属性字段的实现方式"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <style>
    .valine-card {
        margin: 1.5rem auto;
    }
    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }
</style>
<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',  
        appId: 'FCDmyzttKJnX894zw3TSyY2i-gzGzoHsz',
        appKey: 'hLhU8Y0J5n75jf1avx7bcHh6', 
        placeholder: 'Just go go' ,
        notify: 'false',
        verity: '',
        path: window.location.pathname,
        avatar: 'monsterid',
        meta: ['nick','mail','link'],
        pageSize: '10',
        lang: 'zh-cn',
        visitor: 'false',
        highlight: ''
    });
</script>  
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Tom Yuan. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/shaoshuai.github.io/2021/04/12/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5/"
                    data-tooltip="基于virtualBox的centos系统配置光标"
                    aria-label="PREVIOUS: 基于virtualBox的centos系统配置光标"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/shaoshuai.github.io/2021/03/11/%E8%AE%B0Java%E7%B1%BB%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"
                    data-tooltip="记Java类动态添加属性字段的实现方式"
                    aria-label="NEXT: 记Java类动态添加属性字段的实现方式"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://yuanjie123.github.io/shaoshuai.github.io/2021/03/23/%E5%85%B3%E4%BA%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E4%BD%BF%E7%94%A8%E6%A2%B3%E7%90%86/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/shaoshuai.github.io/assets/images/picture.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Tom Yuan</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                TianJin,China
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/shaoshuai.github.io/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/shaoshuai.github.io/assets/js/script-79okhvrhh1wtoheukxpia3xszdbccnglsekcgtntsumtdlm7gxbe0rqr2bn3.min.js"></script>

<!--SCRIPTS END-->


    




    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
